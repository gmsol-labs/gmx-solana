<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Enable or disable a feature in this deployment."><title>toggle_feature in gmsol_store::gmsol_store - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="gmsol_store" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../../static.files/storage-3a5871a4.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../gmsol_store/index.html">gmsol_<wbr>store</a><span class="version">0.5.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">toggle_<wbr>feature</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#accounts" title="Accounts">Accounts</a></li><li><a href="#arguments" title="Arguments">Arguments</a></li><li><a href="#errors" title="Errors">Errors</a></li><li><a href="#warnings" title="Warnings">Warnings</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In gmsol_<wbr>store::<wbr>gmsol_<wbr>store</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">gmsol_store</a>::<wbr><a href="index.html">gmsol_store</a></div><h1>Function <span class="fn">toggle_feature</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/gmsol_store/lib.rs.html#706">Source</a> </span></div><pre class="rust item-decl"><code>pub fn toggle_feature(
    ctx: Context&lt;'_, '_, '_, '_, <a class="struct" href="../instructions/feature/struct.ToggleFeature.html" title="struct gmsol_store::instructions::feature::ToggleFeature">ToggleFeature</a>&lt;'_&gt;&gt;,
    domain: <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
    action: <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
    enable: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.bool.html">bool</a>,
) -&gt; Result&lt;<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.unit.html">()</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Enable or disable a feature in this deployment.</p>
<p>This instruction allows a FEATURE_KEEPER to toggle specific features on or off by providing
a domain and action combination. Features are used to control which functionality is available
in this deployment.</p>
<h2 id="accounts"><a class="doc-anchor" href="#accounts">ยง</a>Accounts</h2>
<p><em><a href="../instructions/feature/struct.ToggleFeature.html" title="struct gmsol_store::instructions::feature::ToggleFeature">See the documentation for the accounts.</a>.</em></p>
<h2 id="arguments"><a class="doc-anchor" href="#arguments">ยง</a>Arguments</h2>
<ul>
<li><code>domain</code>: The domain part of the feature flag, must be a valid domain defined in
<a href="../states/feature/enum.DomainDisabledFlag.html" title="enum gmsol_store::states::feature::DomainDisabledFlag"><code>DomainDisabledFlag</code></a>.</li>
<li><code>action</code>: The action part of the feature flag, must be a valid action defined in
<a href="../states/feature/enum.ActionDisabledFlag.html" title="enum gmsol_store::states::feature::ActionDisabledFlag"><code>ActionDisabledFlag</code></a>.</li>
<li><code>enable</code>: If true, enables the feature. If false, disables it.</li>
</ul>
<h2 id="errors"><a class="doc-anchor" href="#errors">ยง</a>Errors</h2>
<ul>
<li>The <a href="../instructions/feature/struct.ToggleFeature.html#structfield.authority" title="field gmsol_store::instructions::feature::ToggleFeature::authority"><code>authority</code></a> must be a signer and have the
FEATURE_KEEPER role in the store.</li>
<li>The <code>domain</code> must be a valid domain defined in <a href="../states/feature/enum.DomainDisabledFlag.html" title="enum gmsol_store::states::feature::DomainDisabledFlag"><code>DomainDisabledFlag</code></a>.</li>
<li>The <code>action</code> must be a valid action defined in <a href="../states/feature/enum.ActionDisabledFlag.html" title="enum gmsol_store::states::feature::ActionDisabledFlag"><code>ActionDisabledFlag</code></a>.</li>
</ul>
<h2 id="warnings"><a class="doc-anchor" href="#warnings">ยง</a>Warnings</h2>
<p>Although we currently do not provide a feature to disable swaps (only a feature to disable swap orders),
if we were to introduce such a feature, we must be aware that the following operations could still potentially
result in swaps:</p>
<ul>
<li>(GLV) Deposits</li>
<li>(GLV) Withdrawals</li>
<li>Swap Orders</li>
<li>Increase Orders</li>
<li>Decrease Orders</li>
</ul>
<p>Therefore, to ensure that this feature effectively prevents swaps from occurring, we need to add
validation of the swap parameters before executing all of these actions to ensure that swaps do not happen.</p>
</div></details></section></div></main></body></html>